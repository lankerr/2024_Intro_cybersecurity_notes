# 常见的网络攻击手段
- DNS劫持:包括两种情况：一种是在DNS服务器上进行劫持，另一种是在本地主机上进行劫持。在DNS服务器上进行劫持，是指攻击者通过某种方式控制了DNS服务器，使得DNS服务器返回错误的IP地址，从而导致用户访问错误的网站。在本地主机上进行劫持，是指攻击者通过某种方式修改了本地主机的DNS配置，使得本地主机访问错误的网站。
- ARP污染:ARP污染是指黑客通过发送伪造的ARP包来欺骗局域网中的计算机，将合法的IP地址与虚假的MAC地址进行映射，从而达到篡改或破坏正常数据传输的目的。ARP是操作系统中用于将IP地址转换为物理地址（MAC地址）的协议，而ARP污染则是通过欺骗ARP协议的方式进行攻击的一种手段。
- 嗅探监听 比较简单
- 路由劫持 是指攻击者通过某种方式篡改了路由器的路由表，使得数据包在传输过程中被重定向到攻击者控制的服务器上，从而实现对数据包的窃取、篡改或丢弃。路由表的
- TCP链接劫持:TCP链接被控制，数据包发送到错误的服务器上，DoS攻击是指大量的请求发送到服务器上
记住下面的图:
![image](/image/cyberattack.png)
# 链路层安全
- ARP欺骗与污染
- - 链路层功能:功能主要有：将数据组合成帧（Frame）控制帧在物理信道上的传输，包括处理传输差错，调节发送速率,提供数据链路通路的建立、维持和释放的管理,这期间的过程是比较简单的，我们就是回顾一下A发送广播问然后B如果是就单播回复

- 网络嗅探与网络监听
- - 网络嗅探主要使用的是嗅探工具，常见的包括TCPDUMP，WIRESHARK

# 网络层安全
- 安全风险1，源地址假冒攻击
网络层的功能 
分组与分组交换
路由
网络互联
网络连接复用
差错检测与恢复
服务选择
网络管理
分片与重组
原理很简单，
![image](/image/IP_fake.png)

- 安全风险2，IP分片攻击
IP在过程中都有分片这一个环节，我们根据不同的攻击效果，IP碎片攻击可以分成三种
拒绝服务攻击
污染攻击
安全策略逃逸
- - 拒绝服务攻击
理论上一个IP分组的最大长度是65535字节，攻击者可以发送一个长度超过65535字节IP分组，迫使接收端在对分片重组时，出现缓冲区溢出漏洞，造成异常错误。存在内存分配错误，会发生事先分配的65535字节缓冲区溢出，从而引起系统崩溃或挂起，造成拒绝服务攻击
  - 污染攻击
利用IP分片进行污染攻击是一种更高级的攻击方式。
在原始报文被分片、传输过程中，攻击者伪造一些分片，注入到正常分片流中，篡改原始报文内容，从而形成对合法流量的污染
![image](/image/IP_fragment.png)
我们还是把这个流程再过一遍:客户端请求域名解析，然后到达权威域名服务器进行解析但是我们此时权威的返回MTU被基于IP分片的给拦截了，然后将伪造的IP分片发给提前解析的服务器，我们使用P分片，可以将我们的域名篡改成攻击者控制的，实现域名劫持
  - 安全策略逃逸
  网络防火墙，安全策略逃逸
  为了避免IP分片，我们有路径MTU的机制，PMTUD

- 安全协议1，IPSec
IPSec (Internet Protocol Security，RFC4301)，即Internet协议安全性，是一种开放标准的框架结构，通过对IP协议的分组进行加密和认证，来保护基于IP协议的网络传输
在 IPv4 中， IPSec可选项，在 IPv6 （RFC 6434 ）中，初始设为必选项

- 安全协议2，IDS/IPS
- 路由协议安全
- - 域内路由安全
- - 域间路由安全
