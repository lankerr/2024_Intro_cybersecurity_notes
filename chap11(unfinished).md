# 公钥
公钥基础设施PKI(Public Key Infrastructure)
前面章节我们也看到了，IP地址伪造是非常容易的，由此也带来了各种安全风险。所以我们需要一种能够在互联网上确认身份的机制，特别用户需要准确确认服务器是否真实，尤其是用户需要访问网上银行进行涉及财产安全的操作时，更需要确认正在访问的网站是否是真实的网上银行。
和身份证机制类似，如果存在第三方权威机构，它负责给网络实体颁发身份证明书，在通信时验证身份证明书便可以确认对方的身份了，并且这个权威机构还必须是大家都可以信赖的，能将用户所持有的公开密钥与其身份信息结合在一起，当然用户也要好好保管自己的身份证明书。这个权威机构就是我们常说的CA（Certificate Authority），而整个体系就是公钥基础设施PKI（Public Key Infrastructure）
我们主要会考虑这两个小问题:
1. 认证机关是否可信？
2. 证书颁发与维护过程是否存在风险？

# 证书
1.现实中的证书是拥有唯一编号的凭证
2.在PKI体系中，证书是一个非常关键的存在，下面我们就稍微详细地介绍一下证书。证书（Certificate），有时候简称为cert，是一个经证书授权中心数字签名的、包含公开密钥拥有者信息以及公开密钥的文件。通过证书可以向系统中的其他实体证明自己的身份，也可通过证书进行公钥分发。

# 数字证书 
证书（Certificate），有时候简称为cert，是一个经证书授权中心数字签名的、包含公开密钥拥有者信息以及公开密钥的文件。通过证书可以向系统中的其他实体证明自己的身份，也可通过证书进行公钥分发。

# 利用数字证书进行加密
① 甲方准备好要传送给乙方的信息（明文）
② 甲获取乙的数字证书，并验证该证书有效后，用乙方证书中的公钥加密信息（密文）
③ 乙方收到加密的信息后，用自己证书对应的私钥解密密文，得到明文信息

# 利用数字证书进行签名

① 甲方准备好要传送给乙方的信息（明文）
② 甲计算该信息的消息摘要
③ 甲用自己证书对应私钥对消息摘要加密得到数字签名，并将其附在信息后
④ 甲方将附带有数字签名的信息传送给乙方
⑤ 乙方验证甲方数字证书后用证书中的公钥解密数字签名 

注意，甲要使用摘要和私钥得到签名，
明文数据量很大时可以结合数字信封的方式加密，注意甲需要知道公钥，并且验证了哈希值之后才可以
数字证书有主题身份信息，主体公钥数值和认证机构名字，使用散列可以生成数字签名，注意的是CA使用自己的私钥对主体公钥进行签名