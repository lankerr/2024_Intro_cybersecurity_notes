
# 常见安全机制

| 安全机制 | 原理概要 | 知识点 |
| --- | --- | --- |
| 沙箱 | 限制、隔离 | 发展概况 |
| 安全目标 | 基本思想和原理 | - |
| 入侵容忍 | 容忍、容错 | - |
| 可信计算 | 可信根、信任链 | - |
| 类免疫防御 | 特征识别、威胁清除 | - |
| 移动目标防御 | 动态、异构、不确定 | - |
| 拟态防御 | 动态、异构、冗余 | - |
| 零信任网络 | 从来不信任，始终在校验 | - |

# 沙箱

当遇到一些来源不明、意图无法判定的程序时，直接安装使用会带来巨大的风险，如果程序中嵌入了恶意代码，那么主机将可能被破坏和攻陷。

- Linux内核沙箱Seccomp
- 苹果的Apple App Sandbox
- Google的Sandbox API
- Java 虚拟机
- 微软的Windows沙盒

沙箱的安全目标主要是防范恶意程序对系统环境的破坏。
从访问控制的角度看，沙箱的本质是面向程序的访问控制。
从提供高度受控环境的角度上看，沙箱也可以被视为虚拟化技术的一种特定实例。

# 第2节 入侵容忍

入侵容忍的安全目标主要是在攻击可能存在的前提下使系统的机密性、完整性和可用性能够得到一定程度的保证。可以理解为带病运行，但是在基础上我们必须满足以上的三个条件:

| 机密性 | 完整性 | 可用性 |
| --- | --- | --- |
| 特定机密的信息不被攻击者窃取 | 特定的数据不被删除或篡改 | 系统所提供的服务能够持续可用 |

攻击漏洞入侵混合错误模型，又称AVI系统故障模型，即Attack, Vulnerability, Intrusion composite fault model。
通过对AVI系统故障模型的分析，可以得到系统的安全目标，即在攻击可能存在的前提下使系统的机密性、完整性和可用性能够得到一定程度的保证。

# 可信计算

由于计算机设备软硬件结构透明，频繁出现病毒或恶意代码植入、黑客窃取权限和入侵等安全事故，导致程序、系统不可信。如何才能从根本上实现“可信”？从这个角度出发，可信计算组织（Trusted Computing Group）提出了可信计算的安全机制。这里也是我们研究TEE的出发点。

![image](/image/trusted.png)
可信计算平台联盟：Trusted Computing Platform Alliance，TCPA
可信计算机组织：Trusted Computing Group，TCG
可信平台模块： Trusted Platform Module ，TPM

可信计算认为，传统的信息安全系统以防止外部入侵为主，这些措施只封堵外围，没有从根本上解决产生不安全的问题

解决这些问题重点需要从芯片、硬件结构、操作系统等方面综合采取措施保证系统的安全和可信，从而在根本上提高安全性能，达成安全可信的目标

可信计算组织认为，当一个实体的行为总是按照预期的方式达到预定的目标时，它就是可信的，首先建立一个可信根。可信根的可信性由物理安全、技术安全与管理安全共同保证。
基于可信根建立一条信任链，从可信根开始到硬件平台、操作系统、应用系统逐级传递信任关系，将信任扩展到整个系统，从而确保系统整体可信
主要有六个关键技术
背书密钥
安全输入输出
内存屏蔽
密封储存
远程认证
可信第三方
对于计算机系统而言，如果系统每一个部件的行为都可知或者可预期时，就能够保证系统的安全可信
# 类免疫防御

计算机病毒和生物学中的病毒有一定的相似性，都能够在目标系统中复制、传播并造成破坏。
在生物学中，免疫机制能够有效抑制病毒传播，通过消灭和清除病毒保证机体健康。
在计算机系统中，是否也能够借鉴生物学中的免疫机制从而实现计算机系统的安全？
类免疫防御的目标是使计算机系统像生物系统一样，具有发现和消灭外来安全威胁（病毒、入侵）的能力，从而实现计算机系统的安全
类似生物免疫学中的抗体识别抗原，计算机类免疫防御系统通过设计安全机制检测、识别和清除安全威胁，使系统对安全威胁“免疫”

| 生物免疫 | 类免疫防御 |
| --- | --- |
| 自身细胞 | 正常文件 |
| 抗原（细菌、病原体） | 恶意代码文件 |
| 淋巴细胞或抗体 | 恶意代码特征 |
| 抗体抗原结合 | 检测过程模式匹配 |
| 疫苗注射 | 特征库更新 |
| 自免疫疾病 | 正常文件误报 |
| 疾病发病 | 恶意代码文件漏报 |
| 抗原清除 | 恶意代码清除 |

识别+清除

1. 识别正常和非正常信息
2. 修改、隔离或删除有害信息

对攻击威胁的特征进行提取和编码
借助免疫系统算法和模型生成相应的“抗体”
![image](/image/immune.png)
# 移动目标防御
当系统的内部结构保持不变时，攻击者可以进行足够多次的尝试寻找系统的漏洞从而将系统攻破，并在类似的系统中复现攻击
如果系统内部是动态变化的，攻击者还能达成攻击目标吗？

五个层次:
![image](/image/shift_defence.png)
具体的技术是
IP地址跳变
端口跳变
动态路由
网络和主机身份随机化

# 拟态防御

“动态”＋“异构”+“冗余

# 零信任网络
传统的从外网到内网的边界安全模型依赖于在网络边界进行安全检查，试图把攻击阻挡在边界之外。但内网是否绝对安全？
攻击者可以在办公网络中横向移动，最终进入生产网络
随着内部威胁、高级持续攻击等新型安全威胁的出现，“内网”的安全问题越来越复杂，单靠网络边界已经无法划清安全的界限
网络无时无刻不处于危险的环境中
网络中自始至终存在外部或内部威胁
网络的位置不足以决定网络的可信程度
所有的设备、用户和网络流量都应当经过认证和授权
安全策略必须是动态的，并基于尽可能多的数据源计算而来
攻击者可以在办公网络中横向移动，最终进入生产网络
随着内部威胁、高级持续攻击等新型安全威胁的出现，“内网”的安全问题越来越复杂，单靠网络边界已经无法划清安全的界限
